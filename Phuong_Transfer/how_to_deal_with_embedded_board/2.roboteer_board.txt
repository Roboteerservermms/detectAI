How to install Tensorflow(2.1) and Librosa (latest version) on Roboteer board (Ubuntu 18.04 LTS bionic linux aarch64)

1. Extend memory using swap (using_swap.txt)

2. Check if llvm is installed

sudo llvm-config

if the result is nothing then run:
sudo apt-get install llvm-7
sudo ln -s /usr/bin/llvm-config-7 /usr/bin/llvm-config


3. Build Python 3.7.7 from source

sudo apt update
sudo apt install build-essential zlib1g-dev libncurses5-dev libgdbm-dev libnss3-dev libssl-dev libsqlite3-dev libreadline-dev libffi-dev wget libbz2-dev

wget https://www.python.org/ftp/python/3.7.7/Python-3.7.7.tgz
tar -xf Python-3.7.7.tgz

cd Python-3.7.7
./configure --enable-optimizations

make -j4
(4 refers to the number of processors of Roboteer board)

sudo make altinstall

(referrence to https://linuxize.com/post/how-to-install-python-3-7-on-ubuntu-18-04/)

If pip error happens after installing Python, please fix as follows:

Open /usr/bin/lsb_release (Make sure you use sudo or open as root!)

- Edit the first line to be #! /usr/bin/python3.7
- Save the file

- Test pip by command:

pip --version

4. Check the compatibility between llvm and llvmlite via link https://pypi.org/project/llvmlite/

5. Install llvmlite (llvmlite 0.29.0 is compatible with llvm-7)

sudo LLVM_CONFIG=/usr/bin/llvm-config pip3 install llvmlite==0.29.0

(if pip is not installed yet, please install it by search on how to install using google)

6. Create virtual environment

sudo apt-get update
sudo apt-get upgrade
sudo apt-get install build-essential cmake unzip pkg-config
sudo apt-get install gcc-6 g++-6
sudo apt-get install screen
sudo apt-get install libxmu-dev libxi-dev libglu1-mesa libglu1-mesa-dev
sudo apt-get install libjpeg-dev libpng-dev libtiff-dev
sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev
sudo apt-get install libxvidcore-dev libx264-dev
sudo apt-get install libopenblas-dev libatlas-base-dev liblapack-dev gfortran
sudo apt-get install libhdf5-serial-dev
sudo apt-get install python3-dev python3-tk python-imaging-tk
sudo apt-get install libgtk-3-dev

sudo vim ~/.bashrc

- Edit bashrc file by inserting the following lines:
export WORKON_HOME=$HOME/.local/bin/.virtualenvs
export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3
export VIRTUALENVWRAPPER_VIRTUALENV=$HOME/.local/bin/virtualenv
source $HOME/.local/bin/virtualenvwrapper.sh

- Save bashrc file and run:
source ~/.bashrc

Create a virtual environment named dl4cv:
mkvirtualenv dl4cv -p python3

7. Install librosa
workon dl4cv

sudo LLVM_CONFIG=/usr/bin/llvm-config pip3 install numba==0.44.0
sudo LLVM_CONFIG=/usr/bin/llvm-config pip3 install librosa

8. Install tensorflow 2.1

sudo apt update
sudo apt install gfortran libopenblas-dev liblapack-dev libhdf5-dev
wget http://1.229.109.140:3562/tensorflow/tensorflow-2.1.0.aarch64/tensorflow-2.1.0-cp37-cp37m-linux_aarch64.whl
pip3 install tensorflow-2.1.0-cp37-cp37m-linux_aarch64.whl

- Pay attention!!! The board is too weak, it may take three or four hours to run some steps. Please be patient!

9. Check if librosa and tensorflow are imported using some simple codes
python3
>> import librosa
>> librosa.__version__
>> import tensorflow as tf
>> tf.__version__


10. Install pyaudio

sudo apt-get install portaudio19-dev python-pyaudio
sudo pip3 install pyaudio

11. Install other libs

sudo pip3 install matplotlib
sudo pip3 install pandas



